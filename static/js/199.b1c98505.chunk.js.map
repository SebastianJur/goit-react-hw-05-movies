{"version":3,"file":"static/js/199.b1c98505.chunk.js","mappings":"uRACA,EAAwB,4B,kBCIXA,EAAe,WAAO,IAAD,IAChC,GAA0BC,EAAAA,EAAAA,UAAS,CAAC,GAApC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8CF,EAAAA,EAAAA,UAAS,IAAvD,eAAOG,EAAP,KAAwBC,EAAxB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAEJE,GAAWC,EAAAA,EAAAA,MAGTC,EAFO,IAAIC,KAAKT,EAAMU,cAEHC,cACnBC,EAAK,0CAAsCZ,EAAMa,aAEjDC,EAAc,oBAAGR,EAASS,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IAGzCC,EAAY,mCAAG,WAAMb,GAAN,4FACCc,EAAAA,EAAAA,IAAad,GADd,OACbJ,EADa,OAEbmB,EAAanB,EAAMoB,OACnBA,EAASD,EAAWE,KAAI,SAAAC,GAAM,OAAIA,EAAOC,IAAX,IAAiBC,KAAK,MAC1DvB,EAASD,GACTG,EAAmBiB,GALA,2CAAH,sDAYlB,OAJAK,EAAAA,EAAAA,YAAU,WACRR,EAAab,EACd,GAAE,CAACA,KAGF,+BACE,6BACE,SAAC,KAAD,CAAMsB,GAAIZ,EAAV,+BACA,0BACGd,EAAM2B,MADT,KACkBnB,EADlB,QAGA,2CAAmBR,EAAM4B,aAAzB,cACA,gBAAKC,UAAWC,EAAWC,IAAKnB,EAAOoB,IAAKhC,EAAM2B,SAClD,wCACA,uBAAI3B,EAAMiC,YACV,oCACA,yBAAI/B,EAAJ,QACA,mBACA,qDACA,2BACE,yBACE,SAAC,KAAD,CAAMwB,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,2BAGJ,SAAC,EAAAQ,SAAD,CAAUC,UAAU,gDAApB,UACE,SAAC,KAAD,UAKT,EAED,G,8LC7DIC,EAAS,mCAEAC,EAAa,mCAAG,6FACrBC,EADqB,kEAC4CF,EAD5C,6BAGFG,EAAAA,EAAAA,IAAA,UAAaD,IAHX,cAGnBE,EAHmB,yBAIlBA,EAASC,MAJS,gCAMzBC,QAAQC,MAAR,MANyB,yDAAH,qDAUbzB,EAAY,mCAAG,WAAMd,GAAN,gFACpBkC,EADoB,6CACwBlC,EADxB,oBAC2CgC,EAD3C,6BAGDG,EAAAA,EAAAA,IAAA,UAAaD,IAHZ,cAGlBE,EAHkB,yBAIjBA,EAASC,MAJQ,gCAMxBC,QAAQC,MAAR,MANwB,yDAAH,sDAUZC,EAAS,mCAAG,WAAMxC,GAAN,gFACjBkC,EADiB,6CAC2BlC,EAD3B,4BACsDgC,EADtD,6BAGEG,EAAAA,EAAAA,IAAA,UAAaD,IAHf,cAGfE,EAHe,yBAIdA,EAASC,MAJK,gCAMrBC,QAAQC,MAAR,MANqB,yDAAH,sDAUTE,EAAY,mCAAG,WAAMzC,GAAN,gFACpBkC,EADoB,6CACwBlC,EADxB,4BACmDgC,EADnD,6BAGDG,EAAAA,EAAAA,IAAA,UAAaD,IAHZ,cAGlBE,EAHkB,yBAIjBA,EAASC,KAAKK,SAJG,gCAMxBJ,QAAQC,MAAR,MANwB,yDAAH,sDAUZI,EAAW,mCAAG,WAAMC,GAAN,gFACnBV,EADmB,4DACwCF,EADxC,kBACwDY,GADxD,kBAGAT,EAAAA,EAAAA,IAAA,UAAaD,IAHb,cAGjBE,EAHiB,yBAIhBA,EAASC,KAAKK,SAJE,gCAMvBJ,QAAQC,MAAR,MANuB,yDAAH,qD","sources":["webpack://react-homework-template/./src/pages/Movies/MovieDetails.module.css?d1be","pages/Movies/MovieDetails.jsx","services/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"image\":\"MovieDetails_image__fOz-Q\"};","import { Suspense, useState, useEffect } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport css from './MovieDetails.module.css';\nimport { fetchDetails } from '../../services/Api';\n\nexport const MovieDetails = () => {\n  const [movie, setMovie] = useState({});\n  const [movieCategories, setMovieCategories] = useState('');\n  const { movieId } = useParams();\n\n  let location = useLocation();\n  const date = new Date(movie.release_date);\n\n  const releaseDate = date.getFullYear();\n  const image = `https://image.tmdb.org/t/p/w500/${movie.poster_path}`;\n\n  const goBackLinkHref = location.state?.from ?? '/';\n  \n\n  const getMovieById = async movieId => {\n    const movie = await fetchDetails(movieId);\n    const categories = movie.genres;\n    const genres = categories.map(object => object.name).join(', ');\n    setMovie(movie);\n    setMovieCategories(genres);\n  };\n\n  useEffect(() => {\n    getMovieById(movieId);\n  }, [movieId]);\n\n  return (\n    <>\n      <main>\n        <Link to={goBackLinkHref}> ⇦ Go Back </Link>\n        <h2>\n          {movie.title} ({releaseDate})\n        </h2>\n        <h3>Vote average: {movie.vote_average} ⭐</h3>\n        <img className={css.image} src={image} alt={movie.title} />\n        <h3>Overview: </h3>\n        <p>{movie.overview}</p>\n        <h3>Genres</h3>\n        <p>{movieCategories} </p>\n        <hr />\n        <h3> Additional Information</h3>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n        <Suspense fallback={<div>Loading subpage...</div>}>\n          <Outlet />\n        </Suspense>\n      </main>\n    </>\n  );\n};\n\nexport default MovieDetails;","import axios from 'axios';\nlet ApiKey = '97d70a3173ca56d5850cad3599f6b1e5';\n\nexport const fetchTrending = async () => {\n  const URL = `https://api.themoviedb.org/3/trending/movie/day?api_key=${ApiKey}&page=1`;\n  try {\n    const response = await axios.get(`${URL}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const fetchDetails = async movieId => {\n  const URL = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${ApiKey}&page=1`;\n  try {\n    const response = await axios.get(`${URL}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const fetchCast = async movieId => {\n  const URL = `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${ApiKey}&page=1`;\n  try {\n    const response = await axios.get(`${URL}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const fetchReviews = async movieId => {\n  const URL = `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${ApiKey}&page=1`;\n  try {\n    const response = await axios.get(`${URL}`);\n    return response.data.results;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const fetchSearch = async query => {\n  const URL = `https://api.themoviedb.org/3/search/movie?api_key=${ApiKey}&query=${query}`;\n  try {\n    const response = await axios.get(`${URL}`);\n    return response.data.results;\n  } catch (error) {\n    console.error(error);\n  }\n};"],"names":["MovieDetails","useState","movie","setMovie","movieCategories","setMovieCategories","movieId","useParams","location","useLocation","releaseDate","Date","release_date","getFullYear","image","poster_path","goBackLinkHref","state","from","getMovieById","fetchDetails","categories","genres","map","object","name","join","useEffect","to","title","vote_average","className","css","src","alt","overview","Suspense","fallback","ApiKey","fetchTrending","URL","axios","response","data","console","error","fetchCast","fetchReviews","results","fetchSearch","query"],"sourceRoot":""}